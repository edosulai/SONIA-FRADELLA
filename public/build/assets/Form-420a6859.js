import{r as c,a,K as w,j as l,n as I}from"./app-d55c4ea4.js";import{A as C}from"./AuthenticatedLayout-d15c389f.js";import{I as i}from"./InputError-595b2933.js";import{I as u}from"./InputLabel-c1c256bb.js";import{T as _}from"./TextInput-4d8b4d92.js";import{P as j}from"./PrimaryButton-4f75e45d.js";import{S as x}from"./SelectInput-adbedbd8.js";import{D as g,M as S,S as D}from"./DangerButton-174a44b2.js";import"./ApplicationLogo-0e620696.js";import"./transition-06e71d4e.js";const P=c.forwardRef(function({name:p,id:h,value:f,className:e,rows:N,required:r,isFocused:o,handleChange:t},k){const d=k||c.useRef();return c.useEffect(()=>{o&&d.current.focus()},[]),a("div",{className:"flex flex-col items-start",children:a("textarea",{name:p,id:h,value:f,rows:N,className:"border-gray-300    focus:border-indigo-500  focus:ring-indigo-500  rounded-md shadow-sm "+e,ref:d,required:r,onChange:s=>t(s)})})});function U({auth:v,status:p,status_pasien:h,title:f,registran:e=null}){const[N,r]=c.useState(!1),o=w({nama_pasien:e?e.nama_pasien:"",nama_kepala_keluarga:e?e.nama_kepala_keluarga:"",no_kartu:e?e.no_kartu:"",umur:e?e.umur:0,alamat:e?e.alamat:"",jenis_kelamin:e?e.jenis_kelamin:"laki-laki",status_id:e?e.status_id:h[0].id}),{data:t,setData:k,processing:d,errors:s,reset:b}=o,y=m=>{m.preventDefault(),e?o.patch(route("registran.edit",e.id)):o.post(route("registran.new"))};c.useEffect(()=>()=>{b("nama_pasien","nama_kepala_keluarga","no_kartu","umur","alamat","jenis_kelamin","status_id")},[]);const n=m=>{k(m.target.name,m.target.type==="checkbox"?m.target.checked:m.target.value)};return l(C,{auth:v,header:a("h2",{className:"font-semibold text-xl text-gray-800  leading-tight",children:f}),children:[a(I,{title:f}),a("div",{className:"py-12",children:a("div",{className:"max-w-xl mx-auto sm:px-6 lg:px-8",children:a("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:l("div",{className:"p-6 text-gray-900 ",children:[p&&a("div",{className:"mb-4 font-medium text-sm text-green-600",children:p}),l("form",{onSubmit:y,children:[l("div",{children:[a(u,{forInput:"nama_pasien",value:"Nama Pasien"}),a(_,{id:"nama_pasien",type:"text",name:"nama_pasien",value:t.nama_pasien,className:"mt-1 block w-full",autoComplete:"nama_pasien",isFocused:!0,handleChange:n}),a(i,{message:s.nama_pasien,className:"mt-2"})]}),l("div",{className:"mt-4",children:[a(u,{forInput:"nama_kepala_keluarga",value:"Nama Kepala Keluarga"}),a(_,{id:"nama_kepala_keluarga",type:"text",name:"nama_kepala_keluarga",value:t.nama_kepala_keluarga,className:"mt-1 block w-full",handleChange:n}),a(i,{message:s.nama_kepala_keluarga,className:"mt-2"})]}),l("div",{className:"mt-4",children:[a(u,{forInput:"no_kartu",value:"Nomor Kartu"}),a(_,{id:"no_kartu",type:"text",name:"no_kartu",value:t.no_kartu,className:"mt-1 block w-full",handleChange:n}),a(i,{message:s.no_kartu,className:"mt-2"})]}),l("div",{className:"mt-4",children:[a(u,{forInput:"umur",value:"Umur Pasien"}),a(_,{id:"umur",type:"number",name:"umur",value:t.umur,className:"mt-1 block w-full",handleChange:n}),a(i,{message:s.umur,className:"mt-2"})]}),l("div",{className:"mt-4",children:[a(u,{forInput:"jenis_kelamin",value:"Jenis Kelamin"}),a(x,{id:"jenis_kelamin",name:"jenis_kelamin",value:t.jenis_kelamin,className:"mt-1 block w-full",handleChange:n,options:[{label:"Laki-Laki",value:"laki-laki"},{label:"Perempuan",value:"perempuan"}]}),a(i,{message:s.jenis_kelamin,className:"mt-2"})]}),l("div",{className:"mt-4",children:[a(u,{forInput:"status_id",value:"Status Pasien"}),a(x,{id:"status_id",name:"status_id",value:t.status_id,className:"mt-1 block w-full",handleChange:n,options:h.map(m=>({label:m.status,value:m.id}))}),a(i,{message:s.status_id,className:"mt-2"})]}),l("div",{className:"mt-4",children:[a(u,{forInput:"alamat",value:"Alamat Pasien"}),a(P,{id:"alamat",type:"text",name:"alamat",value:t.alamat,className:"mt-1 block w-full",rows:"3",handleChange:n}),a(i,{message:s.alamat,className:"mt-2"})]}),l("div",{className:e?"flex items-center justify-between mt-4":"flex items-center justify-end mt-4",children:[e&&a(g,{type:"button",className:"mr-4",processing:d,onClick:()=>r(!0),children:"Hapus Data"}),a(j,{className:"ml-4",processing:d,children:e?"Ubah Data":"Simpan Data"})]})]})]})})})}),e&&a(S,{show:N,onClose:()=>r(!1),children:l("div",{className:"p-6",children:[l("h2",{className:"text-lg font-medium text-gray-900 ",children:["Apakah kamu yakin ingin menghapus data registran"," ",a("b",{children:e.nama_pasien})," ?"]}),a("p",{className:"mt-1 text-sm text-gray-600 ",children:"Setelah data dihapus, semua sumber daya dan datanya akan dihapus secara permanen."}),l("div",{className:"mt-6 flex justify-end",children:[a(D,{onClick:()=>r(!1),children:"Batalkan"}),a(g,{className:"ml-3",processing:d,onClick:()=>{o.delete(route("registran.delete",e.id),{preserveScroll:!0,onSuccess:()=>r(!1)})},children:"Hapus Data"})]})]})})]})}export{U as default};
